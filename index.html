<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Braynio - AI Tool Directory</title>
    <meta name="description" content="Discover the best AI tools with Braynio - the premier directory for artificial intelligence solutions across industries.">
    <meta name="keywords" content="AI tools, machine learning, data science, generative AI, AI directory">
    <meta name="author" content="Braynio">
    <meta property="og:title" content="Braynio - AI Tool Directory">
    <meta property="og:description" content="Discover the best AI tools for your business needs">
    <meta property="og:type" content="website">

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.10.2/lottie.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --accent: #ec4899;
            --dark-bg: #0f172a;
            --dark-card: #1e293b;
            --dark-text: #e2e8f0;
            --light-bg: #f8fafc;
            --light-card: #ffffff;
            --light-text: #1e293b;
            --gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --border-radius: 16px;
            --card-radius: 24px;
            --shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --transition: all 0.3s ease;
            --slide-text-color: #3b82f6; /* New: Specific color for slide animation */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--light-bg);
            color: var(--light-text);
            overflow-x: hidden;
            /* Modern Background Design */
            background-image:
                radial-gradient(circle at 80% 10%, rgba(99, 102, 241, 0.1) 0%, transparent 25%),
                radial-gradient(circle at 20% 90%, rgba(139, 92, 246, 0.1) 0%, transparent 25%),
                linear-gradient(to bottom right, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.1));
            background-size: cover;
            background-attachment: fixed;
        }

        body.dark-mode {
            background: var(--dark-bg);
            color: var(--dark-text);
            background-image:
                radial-gradient(circle at 80% 10%, rgba(79, 70, 229, 0.15) 0%, transparent 25%),
                radial-gradient(circle at 20% 90%, rgba(139, 92, 246, 0.15) 0%, transparent 25%),
                linear-gradient(to bottom right, rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.1));
        }

        /* Header Styles */
        .header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        body.dark-mode .header {
            background: rgba(15, 23, 42, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.2rem 2.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-size: 1.8rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        .logo {
            height: 42px;
            width: auto;
            filter: drop-shadow(0 2px 4px rgba(99, 102, 241, 0.3));
        }

        .nav-menu ul {
            display: flex;
            list-style: none;
            gap: 2.5rem;
        }

        .nav-menu a {
            text-decoration: none;
            color: var(--light-text);
            font-weight: 600;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem 0;
        }

        body.dark-mode .nav-menu a {
            color: var(--dark-text);
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient);
            transition: var(--transition);
        }

        .nav-menu a:hover::after {
            width: 100%;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .subscribe-btn {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 0.8rem 1.8rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 6px rgba(99, 102, 241, 0.3);
        }

        .subscribe-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(99, 102, 241, 0.4);
        }

        .theme-toggle {
            background: var(--light-card);
            border-radius: 50%;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: var(--transition);
            margin-left: 1rem;
        }

        body.dark-mode .theme-toggle {
            background: var(--dark-card);
        }

        .toggle-icon::before {
            content: "‚òÄÔ∏è";
            font-size: 1.2rem;
        }

        body.dark-mode .toggle-icon::before {
            content: "üåô";
        }

        /* Hero Section */
        .hero {
            padding: 8rem 2rem 4rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            min-height: 85vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient);
            clip-path: polygon(0 0, 100% 0, 100% 80%, 0 100%);
            z-index: -2;
        }

        body.dark-mode .hero::before {
            opacity: 0.9;
        }

        .hero-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 4rem;
            position: relative;
            z-index: 2;
        }

        .hero-text {
            flex: 1;
            text-align: left;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1.8rem;
            line-height: 1.1;
            font-weight: 800;
            color: white;
            letter-spacing: -1px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.2);
        }

        .hero p {
            font-size: 1.5rem;
            max-width: 700px;
            margin-bottom: 2.5rem;
            opacity: 0.9;
            color: rgba(255, 255, 255, 0.9);
        }

        /* Slide Animation specific styling */
        .slide-container {
            display: inline-block;
            overflow: hidden;
            vertical-align: middle;
            height: 1.2em; /* Adjust based on your font size */
            color: var(--slide-text-color); /* Apply the specific color */
            font-weight: bold;
            text-shadow: none; /* Remove text shadow for this part */
        }

        .slide-text {
            display: block;
            animation: slideUp 8s infinite; /* Adjust duration and timing as needed */
            line-height: 1.2em;
        }

        @keyframes slideUp {
            0% { transform: translateY(0); opacity: 1; }
            15% { transform: translateY(0); opacity: 1; }
            20% { transform: translateY(-1.2em); opacity: 0; }
            25% { transform: translateY(1.2em); opacity: 0; }
            30% { transform: translateY(0); opacity: 1; }

            45% { transform: translateY(0); opacity: 1; }
            50% { transform: translateY(-1.2em); opacity: 0; }
            55% { transform: translateY(1.2em); opacity: 0; }
            60% { transform: translateY(0); opacity: 1; }

            75% { transform: translateY(0); opacity: 1; }
            80% { transform: translateY(-1.2em); opacity: 0; }
            85% { transform: translateY(1.2em); opacity: 0; }
            90% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .hero-cta {
            background: transparent;
            color: white;
            border: 2px solid white;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
        }

        .hero-cta:hover {
            background: white;
            color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .lottie-animation {
            flex: 1;
            max-width: 600px;
            height: 400px;
        }

        /* Particles */
        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.3;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(0) translateX(0); }
            50% { transform: translateY(-100px) translateX(100px); }
            100% { transform: translateY(0) translateX(0); }
        }

        /* Stats Section */
        .stats-section {
            padding: 4rem 2rem;
            position: relative;
            z-index: 3;
            margin-top: -5rem;
        }

        .stats-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .stat-card {
            background: var(--light-card);
            border-radius: var(--card-radius);
            padding: 2.5rem 2rem;
            text-align: center;
            transition: var(--transition);
            box-shadow: var(--shadow);
            border: 1px solid rgba(0,0,0,0.05);
        }

        body.dark-mode .stat-card {
            background: var(--dark-card);
            border: 1px solid rgba(255,255,255,0.05);
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        }

        .stat-value {
            font-size: 3.5rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary);
        }

        /* Search Section */
        .search-section {
            padding: 2rem;
            position: relative;
            z-index: 4;
        }

        .search-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            background: var(--light-card);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(0,0,0,0.05);
        }

        body.dark-mode .search-container {
            background: var(--dark-card);
            border: 1px solid rgba(255,255,255,0.05);
        }

        .search-input {
            flex: 1;
            min-width: 300px;
            display: flex;
            align-items: center;
            background: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 0.5rem 1.5rem;
            border: 1px solid rgba(0,0,0,0.1);
        }

        body.dark-mode .search-input {
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .search-input i {
            font-size: 1.2rem;
            color: var(--primary);
            margin-right: 0.8rem;
        }

        #searchInput {
            flex: 1;
            padding: 0.9rem 0;
            border: none;
            background: transparent;
            font-size: 1.1rem;
            color: var(--light-text);
            width: 100%;
        }

        body.dark-mode #searchInput {
            color: var(--dark-text);
        }

        #searchInput:focus {
            outline: none;
        }

        #categoryFilter {
            flex: 0.5;
            min-width: 200px;
            padding: 0.9rem 1.25rem;
            border-radius: var(--border-radius);
            border: 1px solid rgba(0,0,0,0.1);
            font-size: 1rem;
            background: var(--light-bg);
            color: var(--light-text);
            transition: var(--transition);
            appearance: none;
        }

        body.dark-mode #categoryFilter {
            background: rgba(15, 23, 42, 0.5);
            color: var(--dark-text);
            border: 1px solid rgba(255,255,255,0.1);
        }

        #categoryFilter:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        /* Category Section */
        .category-section {
            padding: 3rem 2rem;
            background: var(--light-bg);
        }

        body.dark-mode .category-section {
            background: var(--dark-bg);
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .categories-grid {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1.5rem;
        }

        .category-card {
            background: var(--light-card);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            text-align: center;
            transition: var(--transition);
            box-shadow: var(--shadow);
            cursor: pointer;
            border: 1px solid rgba(0,0,0,0.05);
        }

        body.dark-mode .category-card {
            background: var(--dark-card);
            border: 1px solid rgba(255,255,255,0.05);
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.2);
            background: rgba(99, 102, 241, 0.05);
        }

        body.dark-mode .category-card:hover {
            background: rgba(79, 70, 229, 0.1);
        }

        .category-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .category-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .category-count {
            color: var(--primary);
            font-weight: 600;
        }

        /* Tool Grid */
        .tool-grid {
            max-width: 1400px;
            margin: 4rem auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2.5rem;
        }

        .tool-card {
            display: flex;
            flex-direction: column;
            background: var(--light-card);
            border-radius: var(--card-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            text-decoration: none;
            color: var(--light-text);
            height: 100%;
            border: 1px solid rgba(0,0,0,0.05);
            position: relative;
            transform-style: preserve-3d;
            transform: perspective(1000px);
        }

        body.dark-mode .tool-card {
            background: var(--dark-card);
            color: var(--dark-text);
            border: 1px solid rgba(255,255,255,0.05);
        }

        .tool-card:hover {
            transform: translateY(-10px) rotateX(5deg) rotateY(5deg);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .tool-icon {
            padding: 2.5rem;
            background: rgba(99, 102, 241, 0.05);
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        body.dark-mode .tool-icon {
            background: rgba(79, 70, 229, 0.1);
        }

        .tool-icon img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            transition: var(--transition);
        }

        .tool-card:hover .tool-icon img {
            transform: scale(1.1);
        }

        .tool-badge {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: var(--gradient);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .tool-info {
            padding: 1.8rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .tool-info h3 {
            font-size: 1.5rem;
            margin-bottom: 0.8rem;
            font-weight: 700;
        }

        .tool-category {
            display: inline-block;
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
            padding: 0.4rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 1.2rem;
            align-self: flex-start;
        }

        body.dark-mode .tool-category {
            background: rgba(79, 70, 229, 0.2);
            color: #a5b4fc;
        }

        .tool-description {
            color: #64748b;
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            flex-grow: 1;
        }

        body.dark-mode .tool-description {
            color: #94a3b8;
        }

        .tool-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }

        .tool-rating {
            color: #f59e0b;
            font-weight: 700;
        }

        .tool-reviews {
            color: #64748b;
        }

        body.dark-mode .tool-reviews {
            color: #94a3b8;
        }

        .tool-link {
            padding: 1.2rem 1.8rem;
            background: rgba(99, 102, 241, 0.05);
            color: var(--primary);
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.5rem;
            transition: var(--transition);
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        body.dark-mode .tool-link {
            background: rgba(79, 70, 229, 0.1);
            border-top: 1px solid rgba(255,255,255,0.05);
        }

        .tool-card:hover .tool-link {
            background: var(--gradient);
            color: white;
        }

        .tool-link i {
            transition: var(--transition);
        }

        .tool-card:hover .tool-link i {
            transform: translateX(5px);
        }

        /* Subscribe Section */
        .subscribe-section {
            padding: 6rem 2rem;
            background: var(--light-card);
            margin: 4rem 0;
            position: relative;
            overflow: hidden;
            text-align: center;
        }

        body.dark-mode .subscribe-section {
            background: var(--dark-card);
        }

        .subscribe-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient);
            opacity: 0.05;
            z-index: -1;
        }

        .subscribe-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .subscribe-container h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subscribe-container p {
            font-size: 1.2rem;
            color: #64748b;
            max-width: 600px;
            margin: 0 auto 2.5rem;
        }

        body.dark-mode .subscribe-container p {
            color: #94a3b8;
        }

        .subscribe-form {
            display: flex;
            max-width: 600px;
            margin: 0 auto;
            gap: 1rem;
            background: var(--light-bg);
            border-radius: 50px;
            padding: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        body.dark-mode .subscribe-form {
            background: rgba(15, 23, 42, 0.3);
        }

        #subscribeEmail {
            flex: 1;
            padding: 1rem 1.5rem;
            border: none;
            background: transparent;
            font-size: 1rem;
            color: var(--light-text);
            border-radius: 50px;
        }

        body.dark-mode #subscribeEmail {
            color: var(--dark-text);
        }

        #subscribeEmail:focus {
            outline: none;
        }

        /* Footer */
        .footer {
            background: var(--light-card);
            padding: 4rem 2rem 2rem;
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        body.dark-mode .footer {
            background: var(--dark-card);
            border-top: 1px solid rgba(255,255,255,0.05);
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 3rem;
        }

        .footer-brand {
            flex: 1;
            min-width: 300px;
        }

        .footer-brand .logo-container {
            margin-bottom: 1.5rem;
        }

        .footer p {
            color: #64748b;
            max-width: 400px;
            line-height: 1.7;
        }

        body.dark-mode .footer p {
            color: #94a3b8;
        }

        .footer-links ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .footer-links a {
            text-decoration: none;
            color: #64748b;
            transition: var(--transition);
            font-weight: 500;
            display: block;
            padding: 0.3rem 0;
        }

        body.dark-mode .footer-links a {
            color: #94a3b8;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        /* Admin Panel */
        .admin-panel {
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .admin-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid rgba(0,0,0,0.1);
            padding-bottom: 1rem;
            flex-wrap: wrap;
        }

        body.dark-mode .admin-tabs {
            border-color: rgba(255,255,255,0.1);
        }

        .admin-tab {
            padding: 0.8rem 1.5rem;
            background: transparent;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .admin-tab.active {
            background: var(--gradient);
            color: white;
        }

        .admin-content {
            background: var(--light-card);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
        }

        body.dark-mode .admin-content {
            background: var(--dark-card);
        }

        .admin-section {
            display: none;
        }

        .admin-section.active {
            display: block;
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }

        .admin-table th,
        .admin-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        body.dark-mode .admin-table th,
        body.dark-mode .admin-table td {
            border-color: rgba(255,255,255,0.1);
        }

        .admin-table th {
            color: var(--primary);
            font-weight: 700;
        }

        .add-tool-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            font-weight: 600;
            color: var(--primary);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            padding: 0.9rem 1.2rem;
            border-radius: 8px;
            border: 1px solid #ddd;
            background: var(--light-bg);
            color: var(--light-text);
            font-size: 1rem;
        }

        body.dark-mode .form-group input,
        body.dark-mode .form-group textarea,
        body.dark-mode .form-group select {
            background: var(--dark-card);
            border: 1px solid rgba(255,255,255,0.1);
            color: var(--dark-text);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-submit {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 1rem;
            grid-column: 1 / -1;
        }

        .form-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(99, 102, 241, 0.4);
        }

        /* Loader - Reverted to previous style */
        .loader {
            border: 4px solid var(--primary);
            border-bottom-color: transparent;
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
            width: 50px;
            height: 50px;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-top: -25px;
            margin-left: -25px;
        }

        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Modal (used for Login, Subscribe, and Contact) */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }

        .modal-content {
            background: var(--light-card);
            border-radius: var(--card-radius);
            width: 90%;
            max-width: 500px;
            padding: 2.5rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            position: relative;
        }

        body.dark-mode .modal-content {
            background: var(--dark-card);
        }

        .close-modal {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #64748b;
        }

        .modal-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .modal-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        /* Pages */
        .page-content {
            max-width: 1000px;
            margin: 4rem auto;
            padding: 0 2rem;
        }

        .page-content h1 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .page-content h2 {
            font-size: 1.8rem;
            margin: 2rem 0 1rem;
            color: var(--primary);
        }

        .page-content p {
            margin-bottom: 1.2rem;
            line-height: 1.7;
        }

        .page-content ul {
            margin-left: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .page-content li {
            margin-bottom: 0.8rem;
        }

        /* Responsive */
        @media (max-width: 1100px) {
            .hero-content {
                flex-direction: column;
                text-align: center;
            }

            .hero-text {
                text-align: center;
            }

            .hero h1 {
                font-size: 3.2rem;
            }
        }

        @media (max-width: 768px) {
            .header-container {
                flex-wrap: wrap;
                gap: 1rem;
                justify-content: center;
            }

            .nav-menu ul {
                gap: 1.2rem;
                width: 100%;
                justify-content: center;
            }

            .cta-buttons {
                width: 100%;
                justify-content: center;
            }

            .theme-toggle {
                margin-left: 0;
            }

            .hero {
                padding: 6rem 1.5rem 4rem;
            }

            .hero h1 {
                font-size: 2.8rem;
            }

            .hero p {
                font-size: 1.2rem;
            }

            .tool-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }

            .stats-container {
                grid-template-columns: 1fr;
            }

            .footer-container {
                flex-direction: column;
            }

            .admin-tabs {
                flex-wrap: wrap;
            }

            .add-tool-form {
                grid-template-columns: 1fr;
            }

            .form-submit {
                grid-column: span 1;
            }
        }

        @media (max-width: 480px) {
            .header-container {
                padding: 1rem;
            }

            .logo-container span {
                font-size: 1.5rem;
            }

            .nav-menu ul {
                gap: 0.8rem;
                font-size: 0.9rem;
            }

            .hero {
                padding: 5rem 1rem 3rem;
            }

            .hero h1 {
                font-size: 2.2rem;
            }

            .hero p {
                font-size: 1.2rem;
            }

            .search-container {
                flex-direction: column;
            }

            .tool-grid {
                grid-template-columns: 1fr;
            }

            .subscribe-form {
                flex-direction: column;
                border-radius: 12px;
                padding: 0;
                background: transparent;
                box-shadow: none;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; }
    </style>
</head>
<body>
    <div id="main-content">
        <header class="header">
            <div class="header-container">
                <div class="logo-container">
                    <div class="logo">üß†</div>
                    <span>Braynio</span>
                </div>
                <nav class="nav-menu">
                    <ul>
                        <li><a href="#tool-grid-section">Tools</a></li>
                        <li><a href="#categories">Categories</a></li>
                        <li><a href="#subscribe">Subscribe</a></li>
                    </ul>
                </nav>
                <div class="cta-buttons">
                    <button class="subscribe-btn" id="subscribeBtnHeader">Subscribe</button>
                </div>
                <div class="theme-toggle" id="themeToggle">
                    <span class="toggle-icon"></span>
                </div>
            </div>
        </header>

        <section class="hero">
            <div class="hero-content">
                <div class="hero-text fade-in">
                    <h1>Discover <span class="slide-container"><span id="slide-text" class="slide-text"></span></span></h1>
                    <p>Unlock the power of AI with our curated collection of cutting-edge tools</p>
                    <button class="hero-cta" id="heroSubscribe">Get Early Access <i class="fas fa-arrow-right"></i></button>
                </div>
                <div id="lottie-animation" class="lottie-animation fade-in delay-1"></div>
            </div>
            <div class="particles" id="particles"></div>
        </section>

        <section class="stats-section">
            <div class="stats-container">
                <div class="stat-card fade-in">
                    <div class="stat-value">100+</div>
                    <div class="stat-label">AI Tools</div>
                </div>
                <div class="stat-card fade-in delay-1">
                    <div class="stat-value">24/7</div>
                    <div class="stat-label">Updated</div>
                </div>
                <div class="stat-card fade-in delay-2">
                    <div class="stat-value">500K+</div>
                    <div class="stat-label">Users</div>
                </div>
            </div>
        </section>

        <section class="search-section">
            <div class="search-container fade-in">
                <div class="search-input">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search AI tools...">
                </div>
                <select id="categoryFilter">
                    <option value="all">All Categories</option>
                    </select>
            </div>
        </section>

        <section id="categories" class="category-section">
            <h2 class="section-title fade-in">Explore Categories</h2>
            <div class="categories-grid">
                <div class="loader"></div>
            </div>
        </section>

        <section id="tool-grid-section" class="tool-grid-section">
            <h2 class="section-title fade-in">Featured AI Tools</h2>
            <main id="tool-grid" class="tool-grid">
                <div class="loader"></div>
            </main>
        </section>

        <section id="subscribe" class="subscribe-section">
            <div class="subscribe-container fade-in">
                <h2>Stay Updated with AI Trends</h2>
                <p>Subscribe to get exclusive tool recommendations and industry insights</p>
                <div class="subscribe-form">
                    <input type="email" id="subscribeEmailFooter" placeholder="Your professional email">
                    <button class="subscribe-btn" id="footerSubscribe">Subscribe</button>
                </div>
            </div>
        </section>

        <footer class="footer">
            <div class="footer-container">
                <div class="footer-brand">
                    <div class="logo-container">
                        <div class="logo">üß†</div>
                        <span>Braynio</span>
                    </div>
                    <p>¬© 2023 Braynio. All rights reserved.</p>
                </div>
                <div class="footer-links">
                    <ul>
                        <li><a href="#" id="aboutLink">About</a></li>
                        <li><a href="#" id="privacyLink">Privacy Policy</a></li>
                        <li><a href="#" id="termsLink">Terms of Service</a></li>
                        <li><a href="#" id="contactLink">Contact</a></li>
                    </ul>
                </div>
            </div>
        </footer>
    </div>

    <div id="login-page" class="modal">
        <div class="modal-content">
            <h3 class="modal-title">Admin Login</h3>
            <form id="adminLoginForm" class="modal-form">
                <div class="form-group">
                    <label for="adminEmail">Email</label>
                    <input type="email" id="adminEmail" required>
                </div>
                <div class="form-group">
                    <label for="adminPassword">Password</label>
                    <input type="password" id="adminPassword" required>
                </div>
                <button type="submit" class="form-submit">Login</button>
                <p id="login-error-message" style="color: red; margin-top: 10px; text-align: center;"></p>
            </form>
        </div>
    </div>

    <div id="admin-panel" class="admin-panel" style="display: none;">
        <h2 class="section-title">Admin Dashboard</h2>
        <div class="admin-tabs">
            <button class="admin-tab active" data-tab="tools">Manage Tools</button>
            <button class="admin-tab" data-tab="subscribers">Subscribers</button>
            <button class="admin-tab" data-tab="messages">Messages</button>
            <button class="admin-tab" data-tab="add-tool">Add New Tool</button>
            <button class="admin-tab" data-tab="categories-management">Manage Categories</button>
        </div>

        <div class="admin-content">
            <div class="admin-section active" id="tools-section">
                <h3>AI Tools</h3>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Category</th>
                            <th>Rating</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="tools-list">
                        <tr><td colspan="4"><div class="loader"></div></td></tr>
                    </tbody>
                </table>
            </div>

            <div class="admin-section" id="subscribers-section">
                <h3>Subscribers</h3>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Email</th>
                            <th>Subscription Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="subscribers-list">
                        <tr><td colspan="3"><div class="loader"></div></td></tr>
                    </tbody>
                </table>
            </div>

            <div class="admin-section" id="messages-section">
                <h3>Messages</h3>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Message</th>
                            <th>Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="messages-list">
                        <tr><td colspan="5"><div class="loader"></div></td></tr>
                    </tbody>
                </table>
            </div>

            <div class="admin-section" id="add-tool-section">
                <h3>Add New AI Tool</h3>
                <form id="addToolForm" class="add-tool-form">
                    <div class="form-group">
                        <label for="toolName">Tool Name</label>
                        <input type="text" id="toolName" required>
                    </div>
                    <div class="form-group">
                        <label for="toolCategory">Category</label>
                        <select id="toolCategory" required>
                            <option value="">Select Category</option>
                            </select>
                    </div>
                    <div class="form-group">
                        <label for="toolDescription">Description</label>
                        <textarea id="toolDescription" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="toolLink">Website URL</label>
                        <input type="url" id="toolLink" required>
                    </div>
                    <div class="form-group">
                        <label for="toolIcon">Icon URL</label>
                        <input type="url" id="toolIcon" placeholder="e.g., https://example.com/icon.png" required>
                    </div>
                    <div class="form-group">
                        <label for="toolRating">Rating (1-5)</label>
                        <input type="number" id="toolRating" min="1" max="5" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label for="toolReviews">Review Count</label>
                        <input type="number" id="toolReviews" min="0" required>
                    </div>
                    <button type="submit" class="form-submit">Add Tool</button>
                </form>
            </div>

            <div class="admin-section" id="categories-management-section">
                <h3>Manage Categories</h3>
                <form id="addCategoryForm" class="add-tool-form">
                    <div class="form-group">
                        <label for="categoryName">Category Name</label>
                        <input type="text" id="categoryName" required>
                    </div>
                    <div class="form-group">
                        <label for="categoryIconClass">Font Awesome Icon Class</label>
                        <input type="text" id="categoryIconClass" placeholder="e.g., fas fa-robot" required>
                    </div>
                    <button type="submit" class="form-submit">Add Category</button>
                </form>

                <h4>Existing Categories</h4>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Icon</th>
                            <th>Tool Count</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="categories-list-admin">
                        <tr><td colspan="4"><div class="loader"></div></td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <button class="subscribe-btn" onclick="logoutAdmin()" style="background: #ef4444; margin-top: 2rem;">Logout</button>
    </div>

    <div id="about-page" class="page-content" style="display: none;">
        <h1>About Braynio</h1>
        <p>Braynio is the premier directory for AI tools, helping professionals discover and evaluate the best AI solutions across industries. Our mission is to simplify the complex landscape of artificial intelligence technologies.</p>

        <h2>Our Story</h2>
        <p>Founded in 2023, Braynio was created by a team of AI enthusiasts who recognized the challenges businesses face in navigating the rapidly evolving AI ecosystem. We saw a need for a centralized, curated directory that helps users find the right tools for their specific needs.</p>

        <h2>Our Approach</h2>
        <p>We take a comprehensive approach to evaluating AI tools:</p>
        <ul>
            <li>Rigorous testing and evaluation of each tool</li>
            <li>Regular updates to ensure our information remains current</li>
            <li>User-focused categorization for easy navigation</li>
            <li>Transparent rating system based on multiple criteria</li>
        </ul>

        <button class="subscribe-btn" onclick="showMainPage()">Back to Home</button>
    </div>

    <div id="privacy-page" class="page-content" style="display: none;">
        <h1>Privacy Policy</h1>
        <p>Your privacy is important to us. This Privacy Policy explains how Braynio collects, uses, and protects your personal information.</p>

        <h2>Information We Collect</h2>
        <p>We collect information when you:</p>
        <ul>
            <li>Register for an account</li>
            <li>Subscribe to our newsletter</li>
            <li>Submit a contact form</li>
            <li>Use our services</li>
        </ul>

        <h2>How We Use Your Information</h2>
        <p>We may use your information to:</p>
        <ul>
            <li>Provide and improve our services</li>
            <li>Send periodic emails and updates</li>
            <li>Personalize your experience</li>
            <li>Respond to your inquiries</li>
        </ul>

        <h2>Data Security</h2>
        <p>We implement security measures to protect your personal information against unauthorized access, alteration, or destruction.</p>

        <button class="subscribe-btn" onclick="showMainPage()">Back to Home</button>
    </div>

    <div id="terms-page" class="page-content" style="display: none;">
        <h1>Terms of Service</h1>
        <p>Welcome to Braynio! These terms govern your use of our website and services.</p>

        <h2>Acceptance of Terms</h2>
        <p>By accessing or using Braynio, you agree to be bound by these Terms of Service and our Privacy Policy.</p>

        <h2>User Responsibilities</h2>
        <p>You agree to:</p>
        <ul>
            <li>Use Braynio only for lawful purposes</li>
            <li>Not attempt to gain unauthorized access to our systems</li>
            <li>Not use our services to transmit malicious content</li>
            <li>Comply with all applicable laws and regulations</li>
        </ul>

        <h2>Intellectual Property</h2>
        <p>All content on Braynio, including text, graphics, logos, and software, is our property or the property of our licensors and is protected by intellectual property laws.</p>

        <button class="subscribe-btn" onclick="showMainPage()">Back to Home</button>
    </div>

    <div id="subscribeModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="closeSubscribeModal">&times;</span>
            <h3 class="modal-title">Subscribe to our Newsletter</h3>
            <form class="modal-form" id="subscribeModalForm">
                <div class="form-group">
                    <label for="subscribeModalEmail">Email</label>
                    <input type="email" id="subscribeModalEmail" required>
                </div>
                <button type="submit" class="form-submit">Subscribe</button>
            </form>
        </div>
    </div>

    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="closeContactModal">&times;</span>
            <h3 class="modal-title">Contact Us</h3>
            <form class="modal-form" id="contactModalForm">
                <div class="form-group">
                    <label for="contactName">Name</label>
                    <input type="text" id="contactName" required>
                </div>
                <div class="form-group">
                    <label for="contactEmail">Email</label>
                    <input type="email" id="contactEmail" required>
                </div>
                <div class="form-group">
                    <label for="contactMessage">Message</label>
                    <textarea id="contactMessage" rows="4" required></textarea>
                </div>
                <button type="submit" class="form-submit">Send Message</button>
            </form>
        </div>
    </div>

    <script>
        // Firebase configuration (YOUR CONFIG)
        const firebaseConfig = {
            apiKey: "AIzaSyA4tZJUjHDZ0JAh394flCqL6SSu8GoVskA",
            authDomain: "modhusudhan-c8300.firebaseapp.com",
            projectId: "modhusudhan-c8300",
            storageBucket: "modhusudhan-c8300.firebasestorage.app",
            messagingSenderId: "884138452056",
            appId: "1:884138452056:web:1cb1481d42337c6af2962d",
            measurementId: "G-0D30XWCLB0"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        // Your specific admin UID - REPLACE WITH YOUR ACTUAL ADMIN UID
        const ADMIN_UID = "MlSPd5BzwdQqgGH8oFuGZ1jiQZC2";

        // Page state management
        let currentPage = 'main'; // Default page

        document.addEventListener('DOMContentLoaded', () => {
            // Slide animation for hero text
            const slideTexts = ['Cutting-Edge AI Tools', 'Innovative ML Platforms', 'Advanced Data Science', 'Smart Automation Solutions', 'Revolutionary Generative AI'];
            let currentSlideIndex = 0;
            const slideTextElement = document.getElementById('slide-text');

            function updateSlideText() {
                slideTextElement.textContent = slideTexts[currentSlideIndex];
                currentSlideIndex = (currentSlideIndex + 1) % slideTexts.length;
            }
            updateSlideText(); // Initial text set
            setInterval(updateSlideText, 4000); // Change text every 4 seconds (adjust animation-duration in CSS too)


            // Initialize Lottie animation
            const animationContainer = document.getElementById('lottie-animation');
            lottie.loadAnimation({
                container: animationContainer,
                renderer: 'svg',
                loop: true,
                autoplay: true,
                path: 'https://lottie.host/804f8263-875b-433c-ac01-c3098f48dfc4/3N3q97qfUo.json' // AI logo animation
            });

            // Create particle effect
            createParticles();

            // Set up event listeners
            document.getElementById('searchInput').addEventListener('input', filterTools);
            document.getElementById('categoryFilter').addEventListener('change', filterTools);
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);

            // Navigation links for static pages
            document.getElementById('aboutLink').addEventListener('click', (e) => { e.preventDefault(); showPage('about'); });
            document.getElementById('privacyLink').addEventListener('click', (e) => { e.preventDefault(); showPage('privacy'); });
            document.getElementById('termsLink').addEventListener('click', (e) => { e.preventDefault(); showPage('terms'); });
            document.getElementById('contactLink').addEventListener('click', openContactModal);

            // Subscription buttons and forms
            document.getElementById('subscribeBtnHeader').addEventListener('click', openSubscribeModal);
            document.getElementById('heroSubscribe').addEventListener('click', openSubscribeModal);
            document.getElementById('footerSubscribe').addEventListener('click', (e) => {
                e.preventDefault();
                subscribe(document.getElementById('subscribeEmailFooter').value);
            });

            // Modal close buttons
            document.getElementById('closeSubscribeModal').addEventListener('click', () => document.getElementById('subscribeModal').style.display = 'none');
            document.getElementById('closeContactModal').addEventListener('click', () => document.getElementById('contactModal').style.display = 'none');

            // Modal form submissions
            document.getElementById('subscribeModalForm').addEventListener('submit', (e) => {
                e.preventDefault();
                subscribe(document.getElementById('subscribeModalEmail').value);
            });
            document.getElementById('contactModalForm').addEventListener('submit', submitContactForm);

            // Admin panel tab switching
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    document.querySelectorAll('.admin-section').forEach(section => {
                        section.classList.remove('active');
                    });

                    document.getElementById(`${tab.dataset.tab}-section`).classList.add('active');
                    // Load data specific to the tab when activated
                    if (tab.dataset.tab === 'tools') loadAdminTools();
                    if (tab.dataset.tab === 'subscribers') loadSubscribers();
                    if (tab.dataset.tab === 'messages') loadMessages();
                    if (tab.dataset.tab === 'categories-management') loadCategoriesForAdmin();
                    if (tab.dataset.tab === 'add-tool') updateToolCategoryDropdown(); // Ensure dropdown is populated when adding tool
                });
            });

            // Add tool form
            document.getElementById('addToolForm').addEventListener('submit', addNewTool);

            // Add category form
            document.getElementById('addCategoryForm').addEventListener('submit', addNewCategory);

            // Set initial theme based on user preference
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark-mode');
            }

            // --- Admin Authentication Logic ---
            function handleHashChange() {
                const hash = window.location.hash;
                if (hash === '#admin') {
                    auth.onAuthStateChanged((user) => {
                        if (user && user.uid === ADMIN_UID) {
                            showAdminPanel();
                        } else {
                            showLoginPage();
                        }
                    });
                } else if (hash === '#about') {
                    showPage('about');
                } else if (hash === '#privacy') {
                    showPage('privacy');
                } else if (hash === '#terms') {
                    showPage('terms');
                } else {
                    showMainPage();
                }
            }

            window.addEventListener('hashchange', handleHashChange);
            handleHashChange();

            // Admin login form submission
            document.getElementById('adminLoginForm').addEventListener('submit', loginAdmin);

            // Initial data loads for main page (tools and categories)
            loadCategories();
            loadTools();
        });

        function createParticles() {
            const container = document.getElementById('particles');
            const count = 30;

            for (let i = 0; i < count; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');

                const size = Math.random() * 5 + 2;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const animationDuration = Math.random() * 10 + 10;
                const animationDelay = Math.random() * 5;

                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${posX}%`;
                particle.style.top = `${posY}%`;
                particle.style.animationDuration = `${animationDuration}s`;
                particle.style.animationDelay = `${animationDelay}s`;

                container.appendChild(particle);
            }
        }

        // --- Data Loading Functions for Main Page ---
        function loadCategories() {
            const categoriesGrid = document.querySelector('.categories-grid');
            categoriesGrid.innerHTML = '<div class="loader"></div>'; // Show loader

            db.collection("categories").get().then((querySnapshot) => {
                categoriesGrid.innerHTML = ''; // Clear loader/previous content
                if (querySnapshot.empty) {
                    categoriesGrid.innerHTML = '<p style="text-align: center; grid-column: 1 / -1;">No categories available yet.</p>';
                }

                querySnapshot.forEach((doc, index) => {
                    const category = doc.data();
                    const categoryCard = document.createElement('div');
                    categoryCard.className = `category-card fade-in delay-${index % 4}`;
                    categoryCard.innerHTML = `
                        <div class="category-icon"><i class="${category.icon}"></i></div>
                        <h3 class="category-name">${category.name}</h3>
                        <div class="category-count">${category.toolCount || 0}+ Tools</div>
                    `;
                    // Add event listener to filter tools by category when clicked
                    categoryCard.addEventListener('click', () => {
                        document.getElementById('categoryFilter').value = category.name;
                        filterTools();
                        // Optionally scroll to tools section
                        document.getElementById('tool-grid-section').scrollIntoView({ behavior: 'smooth' });
                    });
                    categoriesGrid.appendChild(categoryCard);
                });
                updateCategoryFilterDropdown(); // Update category filters after loading
                updateToolCategoryDropdown(); // Update dropdown for add tool form
            }).catch((error) => {
                console.error("Error loading categories:", error);
                categoriesGrid.innerHTML = '<p class="error" style="text-align: center; color: red; grid-column: 1 / -1;">Error loading categories. Please try again later.</p>';
            });
        }

        function loadTools() {
            const toolGrid = document.getElementById('tool-grid');
            toolGrid.innerHTML = '<div class="loader"></div>'; // Show loader

            db.collection("tools").get().then((querySnapshot) => {
                toolGrid.innerHTML = ''; // Clear loader/previous content
                if (querySnapshot.empty) {
                    toolGrid.innerHTML = '<p style="text-align: center; grid-column: 1 / -1;">No tools available yet. Add some from the admin panel!</p>';
                }

                querySnapshot.forEach((toolDoc, index) => {
                    const tool = toolDoc.data();
                    const toolCard = document.createElement('a');
                    toolCard.href = tool.link;
                    toolCard.target = "_blank";
                    toolCard.rel = "noopener noreferrer";
                    toolCard.className = `tool-card fade-in delay-${index % 3}`;
                    toolCard.innerHTML = `
                        <div class="tool-icon">
                            <img src="${tool.icon}" alt="${tool.name}">
                            <div class="tool-badge">AI</div>
                        </div>
                        <div class="tool-info">
                            <h3>${tool.name}</h3>
                            <p class="tool-category">${tool.category}</p>
                            <p class="tool-description">${tool.description}</p>
                            <div class="tool-meta">
                                <span class="tool-rating">${'‚òÖ'.repeat(Math.round(tool.rating))}${'‚òÜ'.repeat(5 - Math.round(tool.rating))} (${tool.rating.toFixed(1)})</span>
                                <span class="tool-reviews">${tool.reviews} reviews</span>
                            </div>
                        </div>
                        <div class="tool-link">
                            <span>Explore</span>
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    `;
                    toolGrid.appendChild(toolCard);
                });
            }).catch((error) => {
                console.error("Error loading tools:", error);
                toolGrid.innerHTML = '<p class="error" style="text-align: center; color: red; grid-column: 1 / -1;">Error loading tools. Please try again later.</p>';
            });
        }

        function filterTools() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const categoryFilterValue = document.getElementById('categoryFilter').value;

            const toolCards = document.querySelectorAll('#tool-grid .tool-card');

            toolCards.forEach(card => {
                const name = card.querySelector('h3').textContent.toLowerCase();
                const desc = card.querySelector('.tool-description').textContent.toLowerCase();
                const toolCategory = card.querySelector('.tool-category').textContent; // Get the text content of the category span

                const matchesSearch = name.includes(searchTerm) || desc.includes(searchTerm);
                // Check if categoryFilterValue is 'all' or matches the tool's category exactly
                const matchesCategory = (categoryFilterValue === 'all' || toolCategory === categoryFilterValue);

                if (matchesSearch && matchesCategory) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        }


        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
        }

        function openSubscribeModal() {
            document.getElementById('subscribeModal').style.display = 'flex';
            document.getElementById('subscribeModalEmail').focus();
        }

        function subscribe(email) {
            if (email && validateEmail(email)) {
                db.collection("subscribers").add({
                    email: email,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                }).then(() => {
                    alert(`Thank you for subscribing with ${email}! You'll receive our updates soon.`);
                    document.getElementById('subscribeEmailFooter').value = ''; // Clear footer input
                    document.getElementById('subscribeModalEmail').value = ''; // Clear modal input
                    document.getElementById('subscribeModal').style.display = 'none'; // Close modal
                    if (currentPage === 'admin') loadSubscribers();
                }).catch((error) => {
                    console.error("Error adding subscriber: ", error);
                    alert("An error occurred. Please try again.");
                });
            } else {
                alert('Please enter a valid email address');
            }
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function openContactModal(e) {
            e.preventDefault();
            document.getElementById('contactModal').style.display = 'flex';
            document.getElementById('contactName').focus();
        }

        function submitContactForm(e) {
            e.preventDefault();
            const name = document.getElementById('contactName').value;
            const email = document.getElementById('contactEmail').value;
            const message = document.getElementById('contactMessage').value;

            if (!name || !email || !message) {
                alert("Please fill in all contact form fields.");
                return;
            }
            if (!validateEmail(email)) {
                alert("Please enter a valid email address.");
                return;
            }


            db.collection("messages").add({
                name: name,
                email: email,
                message: message,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            }).then(() => {
                alert("Thank you for your message! We'll get back to you soon.");
                document.getElementById('contactModalForm').reset();
                document.getElementById('contactModal').style.display = 'none';
                if (currentPage === 'admin') loadMessages();
            }).catch((error) => {
                console.error("Error sending message: ", error);
                alert("An error occurred. Please try again.");
            });
        }

        // --- Page Navigation Functions ---
        function showLoginPage() {
            document.getElementById('main-content').style.display = 'none';
            document.getElementById('admin-panel').style.display = 'none';
            document.getElementById('about-page').style.display = 'none';
            document.getElementById('privacy-page').style.display = 'none';
            document.getElementById('terms-page').style.display = 'none';
            document.getElementById('subscribeModal').style.display = 'none';
            document.getElementById('contactModal').style.display = 'none';
            document.getElementById('login-page').style.display = 'flex';
            document.getElementById('login-error-message').textContent = '';
            document.getElementById('adminEmail').value = '';
            document.getElementById('adminPassword').value = '';
            currentPage = 'login';
        }

        function showAdminPanel() {
            if (auth.currentUser && auth.currentUser.uid === ADMIN_UID) {
                document.getElementById('login-page').style.display = 'none';
                document.getElementById('main-content').style.display = 'none';
                document.getElementById('about-page').style.display = 'none';
                document.getElementById('privacy-page').style.display = 'none';
                document.getElementById('terms-page').style.display = 'none';
                document.getElementById('subscribeModal').style.display = 'none';
                document.getElementById('contactModal').style.display = 'none';
                document.getElementById('admin-panel').style.display = 'block';
                // Load tools initially when admin panel is shown, or switch to tools tab if it's not active
                if (document.getElementById('tools-section').classList.contains('active')) {
                    loadAdminTools();
                } else {
                    document.querySelector('.admin-tab[data-tab="tools"]').click();
                }
                currentPage = 'admin';
            } else {
                showLoginPage();
            }
        }

        function showPage(pageName) {
            document.getElementById('main-content').style.display = 'none';
            document.getElementById('admin-panel').style.display = 'none';
            document.getElementById('about-page').style.display = 'none';
            document.getElementById('privacy-page').style.display = 'none';
            document.getElementById('terms-page').style.display = 'none';
            document.getElementById('login-page').style.display = 'none';
            document.getElementById('subscribeModal').style.display = 'none';
            document.getElementById('contactModal').style.display = 'none';

            document.getElementById(`${pageName}-page`).style.display = 'block';
            currentPage = pageName;
        }

        function showMainPage() {
            document.getElementById('main-content').style.display = 'block';
            document.getElementById('admin-panel').style.display = 'none';
            document.getElementById('about-page').style.display = 'none';
            document.getElementById('privacy-page').style.display = 'none';
            document.getElementById('terms-page').style.display = 'none';
            document.getElementById('login-page').style.display = 'none';
            document.getElementById('subscribeModal').style.display = 'none';
            document.getElementById('contactModal').style.display = 'none';
            currentPage = 'main';
        }

        // --- Admin Login/Logout Functions ---
        function loginAdmin(e) {
            e.preventDefault();
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;
            const errorMessageElement = document.getElementById('login-error-message');

            if (!email || !password) {
                errorMessageElement.textContent = 'Please enter both email and password.';
                return;
            }

            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    if (user.uid === ADMIN_UID) {
                        showAdminPanel();
                    } else {
                        auth.signOut();
                        errorMessageElement.textContent = 'Unauthorized access. Please use the correct admin account.';
                    }
                })
                .catch((error) => {
                    console.error("Login error:", error.code, error.message);
                    if (error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password') {
                        errorMessageElement.textContent = 'Invalid email or password.';
                    } else if (error.code === 'auth/too-many-requests') {
                        errorMessageElement.textContent = 'Too many login attempts. Please try again later.';
                    } else {
                        errorMessageElement.textContent = 'Login failed: ' + error.message;
                    }
                });
        }

        function logoutAdmin() {
            auth.signOut().then(() => {
                alert('Logged out successfully!');
                showMainPage();
                window.location.hash = '';
            }).catch((error) => {
                console.error("Logout error:", error);
                alert("An error occurred during logout.");
            });
        }

        // --- Admin Data Loading & Management Functions ---
        function loadAdminTools() {
            const toolsList = document.getElementById('tools-list');
            toolsList.innerHTML = '<tr><td colspan="4"><div class="loader"></div></td></tr>';

            db.collection("tools").get().then((querySnapshot) => {
                toolsList.innerHTML = '';
                if (querySnapshot.empty) {
                    toolsList.innerHTML = '<tr><td colspan="4" style="text-align: center;">No tools found.</td></tr>';
                }
                querySnapshot.forEach((doc) => {
                    const tool = doc.data();
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${tool.name}</td>
                        <td>${tool.category}</td>
                        <td>${tool.rating}/5</td>
                        <td>
                            <button class="subscribe-btn" onclick="editTool('${doc.id}')">Edit</button>
                            <button class="subscribe-btn" style="background: #ef4444" onclick="deleteTool('${doc.id}')">Delete</button>
                        </td>
                    `;
                    toolsList.appendChild(row);
                });
            }).catch((error) => {
                console.error("Error loading tools for admin:", error);
                toolsList.innerHTML = '<tr><td colspan="4" style="text-align: center; color: red;">Error loading tools.</td></tr>';
            });
        }

        function loadSubscribers() {
            const subscribersList = document.getElementById('subscribers-list');
            subscribersList.innerHTML = '<tr><td colspan="3"><div class="loader"></div></td></tr>';

            db.collection("subscribers").get().then((querySnapshot) => {
                subscribersList.innerHTML = '';
                if (querySnapshot.empty) {
                    subscribersList.innerHTML = '<tr><td colspan="3" style="text-align: center;">No subscribers found.</td></tr>';
                }
                querySnapshot.forEach((doc) => {
                    const subscriber = doc.data();
                    const date = subscriber.timestamp ? new Date(subscriber.timestamp.seconds * 1000).toLocaleDateString() : 'N/A';

                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${subscriber.email}</td>
                        <td>${date}</td>
                        <td>
                            <button class="subscribe-btn" style="background: #ef4444" onclick="deleteSubscriber('${doc.id}')">Delete</button>
                        </td>
                    `;
                    subscribersList.appendChild(row);
                });
            }).catch((error) => {
                console.error("Error loading subscribers:", error);
                subscribersList.innerHTML = '<tr><td colspan="3" style="text-align: center; color: red;">Error loading subscribers.</td></tr>';
            });
        }

        function deleteSubscriber(id) {
            if (confirm('Are you sure you want to delete this subscriber?')) {
                db.collection("subscribers").doc(id).delete()
                    .then(() => {
                        alert('Subscriber deleted successfully!');
                        loadSubscribers();
                    })
                    .catch((error) => {
                        console.error("Error deleting subscriber: ", error);
                        alert("An error occurred. Please try again.");
                    });
            }
        }

        function loadMessages() {
            const messagesList = document.getElementById('messages-list');
            messagesList.innerHTML = '<tr><td colspan="5"><div class="loader"></div></td></tr>';

            db.collection("messages").get().then((querySnapshot) => {
                messagesList.innerHTML = '';
                if (querySnapshot.empty) {
                    messagesList.innerHTML = '<tr><td colspan="5" style="text-align: center;">No messages found.</td></tr>';
                }
                querySnapshot.forEach((doc) => {
                    const message = doc.data();
                    const date = message.timestamp ? new Date(message.timestamp.seconds * 1000).toLocaleDateString() : 'N/A';

                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${message.name}</td>
                        <td>${message.email}</td>
                        <td>${message.message.substring(0, 50)}${message.message.length > 50 ? '...' : ''}</td>
                        <td>${date}</td>
                        <td>
                            <button class="subscribe-btn" onclick="viewMessage('${doc.id}')">View</button>
                            <button class="subscribe-btn" style="background: #ef4444" onclick="deleteMessage('${doc.id}')">Delete</button>
                        </td>
                    `;
                    messagesList.appendChild(row);
                });
            }).catch((error) => {
                console.error("Error loading messages:", error);
                messagesList.innerHTML = '<tr><td colspan="5" style="text-align: center; color: red;">Error loading messages.</td></tr>';
            });
        }

        function viewMessage(id) {
            db.collection("messages").doc(id).get().then((doc) => {
                if (doc.exists) {
                    const msg = doc.data();
                    alert(`Message from: ${msg.name}\nEmail: ${msg.email}\nMessage:\n${msg.message}\nDate: ${msg.timestamp ? new Date(msg.timestamp.seconds * 1000).toLocaleDateString() : 'N/A'}`);
                } else {
                    alert("Message not found.");
                }
            }).catch((error) => {
                console.error("Error getting message:", error);
                alert("Could not retrieve message details.");
            });
        }

        function deleteMessage(id) {
            if (confirm('Are you sure you want to delete this message?')) {
                db.collection("messages").doc(id).delete()
                    .then(() => {
                        alert('Message deleted successfully!');
                        loadMessages();
                    })
                    .catch((error) => {
                        console.error("Error deleting message: ", error);
                        alert("An error occurred. Please try again.");
                    });
            }
        }


        function addNewTool(e) {
            e.preventDefault();

            const tool = {
                name: document.getElementById('toolName').value.trim(),
                category: document.getElementById('toolCategory').value.trim(),
                description: document.getElementById('toolDescription').value.trim(),
                link: document.getElementById('toolLink').value.trim(),
                icon: document.getElementById('toolIcon').value.trim(),
                rating: parseFloat(document.getElementById('toolRating').value),
                reviews: parseInt(document.getElementById('toolReviews').value),
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            };

            if (!tool.name || !tool.category || !tool.description || !tool.link || !tool.icon || isNaN(tool.rating) || isNaN(tool.reviews) || tool.rating < 1 || tool.rating > 5) {
                alert("Please fill in all tool fields correctly. Rating must be between 1 and 5.");
                return;
            }

            db.collection("tools").add(tool)
                .then(() => {
                    alert('Tool added successfully!');
                    document.getElementById('addToolForm').reset();
                    loadTools(); // Reload tools on homepage
                    loadAdminTools(); // Reload tools in admin panel

                    // Update tool count in categories
                    const categoryRef = db.collection("categories").where("name", "==", tool.category);
                    categoryRef.get().then(querySnapshot => {
                        if (!querySnapshot.empty) {
                            querySnapshot.forEach(doc => {
                                const currentCount = doc.data().toolCount || 0;
                                db.collection("categories").doc(doc.id).update({
                                    toolCount: currentCount + 1
                                }).then(() => {
                                    loadCategories(); // Reload categories on homepage
                                    loadCategoriesForAdmin(); // Reload categories in admin panel
                                });
                            });
                        }
                    });
                })
                .catch((error) => {
                    console.error("Error adding tool: ", error);
                    alert("An error occurred. Please try again.");
                });
        }

        // Dummy function for editTool - In a real app, this would populate a form for editing
        function editTool(id) {
            alert(`Editing tool with ID: ${id}`);
            // Example: Fetch tool data and populate a modal form
            // db.collection("tools").doc(id).get().then(doc => {
            //    if (doc.exists) {
            //        const toolData = doc.data();
            //        // Populate an edit modal/form with toolData
            //        // And then update the tool using db.collection("tools").doc(id).update(...)
            //    }
            // });
        }

        function deleteTool(id) {
            if (confirm('Are you sure you want to delete this tool?')) {
                db.collection("tools").doc(id).get().then(docSnapshot => {
                    if (docSnapshot.exists) {
                        const toolCategory = docSnapshot.data().category;
                        db.collection("tools").doc(id).delete()
                            .then(() => {
                                alert('Tool deleted successfully!');
                                loadTools(); // Reload tools on homepage
                                loadAdminTools(); // Reload tools in admin panel

                                if (toolCategory) {
                                    const categoryRef = db.collection("categories").where("name", "==", toolCategory);
                                    categoryRef.get().then(querySnapshot => {
                                        if (!querySnapshot.empty) {
                                            querySnapshot.forEach(doc => {
                                                const currentCount = doc.data().toolCount || 0;
                                                if (currentCount > 0) {
                                                    db.collection("categories").doc(doc.id).update({
                                                        toolCount: currentCount - 1
                                                    }).then(() => {
                                                        loadCategories(); // Reload categories on homepage
                                                        loadCategoriesForAdmin(); // Reload categories in admin panel
                                                    });
                                                }
                                            });
                                        }
                                    });
                                }
                            })
                            .catch((error) => {
                                console.error("Error deleting tool: ", error);
                                alert("An error occurred. Please try again.");
                            });
                    }
                });
            }
        }

        function loadCategoriesForAdmin() {
            const categoriesListAdmin = document.getElementById('categories-list-admin');
            categoriesListAdmin.innerHTML = '<tr><td colspan="4"><div class="loader"></div></td></tr>';

            db.collection("categories").get().then((querySnapshot) => {
                categoriesListAdmin.innerHTML = '';
                if (querySnapshot.empty) {
                    categoriesListAdmin.innerHTML = '<tr><td colspan="4" style="text-align: center;">No categories found.</td></tr>';
                }
                querySnapshot.forEach((doc) => {
                    const category = doc.data();
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${category.name}</td>
                        <td><i class="${category.icon}"></i> (${category.icon})</td>
                        <td>${category.toolCount || 0}</td>
                        <td>
                            <button class="subscribe-btn" style="background: #ef4444" onclick="deleteCategory('${doc.id}')">Delete</button>
                        </td>
                    `;
                    categoriesListAdmin.appendChild(row);
                });
            }).catch((error) => {
                console.error("Error loading categories for admin:", error);
                categoriesListAdmin.innerHTML = '<tr><td colspan="4" style="text-align: center; color: red;">Error loading categories.</td></tr>';
            });
        }

        function addNewCategory(e) {
            e.preventDefault();
            const categoryName = document.getElementById('categoryName').value.trim();
            const categoryIconClass = document.getElementById('categoryIconClass').value.trim();

            if (!categoryName || !categoryIconClass) {
                alert("Please fill in all category fields.");
                return;
            }

            // Check if category already exists
            db.collection("categories").where("name", "==", categoryName).get()
                .then(snapshot => {
                    if (!snapshot.empty) {
                        alert("Category with this name already exists!");
                        return;
                    }

                    db.collection("categories").add({
                        name: categoryName,
                        icon: categoryIconClass,
                        toolCount: 0, // Initialize toolCount for new category
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    })
                    .then(() => {
                        alert('Category added successfully!');
                        document.getElementById('addCategoryForm').reset();
                        loadCategories(); // Reload categories on homepage
                        loadCategoriesForAdmin(); // Reload categories in admin panel
                        updateCategoryFilterDropdown(); // Update dropdowns in both places
                        updateToolCategoryDropdown(); // Update dropdown for add tool form
                    })
                    .catch((error) => {
                        console.error("Error adding category: ", error);
                        alert("An error occurred. Please try again.");
                    });
                })
                .catch(error => {
                    console.error("Error checking category existence:", error);
                    alert("An error occurred while checking category. Please try again.");
                });
        }

        function deleteCategory(id) {
            if (confirm('Are you sure you want to delete this category? Note: Tools associated with this category will remain, but their category will no longer be valid or linked properly unless updated. You should update tools using this category before deleting.')) {
                db.collection("categories").doc(id).delete()
                    .then(() => {
                        alert('Category deleted successfully!');
                        loadCategories(); // Reload categories on homepage
                        loadCategoriesForAdmin(); // Reload categories in admin panel
                        updateCategoryFilterDropdown(); // Update dropdowns
                        updateToolCategoryDropdown(); // Update dropdown for add tool form
                    })
                    .catch((error) => {
                        console.error("Error deleting category: ", error);
                        alert("An error occurred. Please try again.");
                    });
            }
        }

        // Updates the category filter dropdown on the main page
        function updateCategoryFilterDropdown() {
            const categoryFilter = document.getElementById('categoryFilter');
            // Clear existing options, but keep the "All Categories" option
            categoryFilter.innerHTML = '<option value="all">All Categories</option>';

            db.collection("categories").get().then((querySnapshot) => {
                querySnapshot.forEach((doc) => {
                    const category = doc.data();
                    const option = document.createElement('option');
                    option.value = category.name;
                    option.textContent = category.name;
                    categoryFilter.appendChild(option);
                });
            }).catch((error) => {
                console.error("Error updating category filter dropdown:", error);
            });
        }

        // Updates the category dropdown in the "Add New Tool" form in the admin panel
        function updateToolCategoryDropdown() {
            const toolCategorySelect = document.getElementById('toolCategory');
            // Clear existing options, but keep the "Select Category" option
            toolCategorySelect.innerHTML = '<option value="">Select Category</option>';

            db.collection("categories").get().then((querySnapshot) => {
                querySnapshot.forEach((doc) => {
                    const category = doc.data();
                    const option = document.createElement('option');
                    option.value = category.name;
                    option.textContent = category.name;
                    toolCategorySelect.appendChild(option);
                });
            }).catch((error) => {
                console.error("Error updating tool category dropdown:", error);
            });
        }
    </script>
</body>
                    </html>
